<body>
    <nav id="navigation" data-navigation></nav>

    <article id="indhold">
        <img class="retter" src="" data-restaurantpic>
        <h2 data-restaurantnavn></h2>
        <p data-restaurantbeskrivelse></p>
        <h3>Åbningstider</h3>
        <p data-tider></p>
        <h3>Kontakt</h3>
        <p data-kontakt></p>
        <h3>Adresse</h3>
        <p data-adresse></p>
        <h3>Kontrolrapport</h3>
        <a id="kontrolrapport" href="" data-kontrolrapport>Se kontrolrapport <span class="underline">her</span></a>
    </article>
    <footer id="footer" data-footer></footer>
</body>

<script>
    async function hentJson() {
        let url = new URL(window.location.href);
        let parameter = new URLSearchParams(url.search);
        let id = parameter.get("id");

        let jsonData = await fetch("http://anjaholstnielsen.dk/kea/2sem/tema7/food8/wordpress/wp-json/wp/v2/delikatesser/" + id);
        let single = await jsonData.json();

        document.querySelector("[data-restaurantpic]").src = single.acf.foto.url;
        document.querySelector("[data-restaurantnavn]").textContent = single.acf.navn;
        document.querySelector("[data-restaurantbeskrivelse]").innerHTML = single.acf.beskrivelse;
        document.querySelector("[data-tider]").innerHTML = single.acf.aabningstider;
        document.querySelector("[data-adresse]").innerHTML = single.acf.adresse;
        document.querySelector("[data-kontakt]").innerHTML = single.acf.kontakt;
        document.querySelector("[data-kontrolrapport]").href = single.acf.kontrolrapport.url;

    }

    async function hentMenu() {
        let topMenu = await fetch("navigation.html");
        let menu = await topMenu.text();

        document.querySelector("[data-navigation]").innerHTML = menu;
    }

    //hent indhold når siden er loaded
    document.addEventListener("DOMContentLoaded", hentJson);
    document.addEventListener("DOMContentLoaded", hentMenu);

    async function hentFooter() {
        let footer = await fetch("footer.html");
        let footerIndhold = await footer.text();

        document.querySelector("[data-footer]").innerHTML = footerIndhold;
    }

    //hent indhold når siden er loaded 
    document.addEventListener("DOMContentLoaded", hentFooter);

</script>
